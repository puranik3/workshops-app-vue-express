(function(){"use strict";var t={2838:function(t,s,e){var a=e(6369),r=function(){var t=this,s=t._self._c;return s("div",[s("AppMenu"),s("div",{staticClass:"container my-5"},[s("router-view")],1)],1)},o=[],n=function(){var t=this,s=t._self._c;return s("div",[s("nav",{staticClass:"navbar navbar-expand-sm bg-light"},[s("div",{staticClass:"container"},[s("router-link",{staticClass:"navbar-brand",attrs:{to:"/","exact-active-class":"active"}},[t._v(" Workshops App ")]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[s("ul",{staticClass:"navbar-nav"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{"aria-current":"page",to:"/","exact-active-class":"active"}},[t._v(" Home ")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/workshops","exact-active-class":"active"}},[t._v(" List of workshops ")])],1)])])],1)])])},i=[function(){var t=this,s=t._self._c;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],l={name:"AppMenu",data(){return console.log("data for appmenu instance"),{}}},c=l,u=e(1001),p=(0,u.Z)(c,n,i,!1,null,"70d53680",null),d=p.exports,v={name:"App",components:{AppMenu:d}},m=v,f=(0,u.Z)(m,r,o,!1,null,null,null),h=f.exports,_=e(2631),g=e(4659),b=function(){var t=this;t._self._c;return t._m(0)},w=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"card p-5"},[s("h1",[t._v("Workshops App")]),s("p",[t._v(" The Workshops application serves details of (fictitious) technical workshops happening in various cities. Every workshop has a broad topic (eg. JavaScript), and a workshop has many sessions (each session covers a sub-topic, eg. Closures in JavaScript). ")]),s("p",[t._v(" You can view a list of workshops, details of every workshop, sessions in a workshop, and also add a new session for a workshop. ")])])}],k={name:"AppHome"},y=k,C=(0,u.Z)(y,b,w,!1,null,"2aae7338",null),x=C.exports,$=function(){var t=this,s=t._self._c;return s("div",["LOADING"===t.status?s("div",[s("AppSpinner",{attrs:{message:"Please wait while we fetch workshops"}})],1):"ERROR"===t.status?s("div",[s("AppAlert",{attrs:{heading:"Oops! Some error occured",theme:"danger"},scopedSlots:t._u([{key:"hint",fn:function(){return[s("small",[t._v("Please try again later. Contact system administrator if you continue seeing this error.")])]},proxy:!0}])},[s("p",[t._v(t._s(t.error.message))])])],1):s("div",[s("h1",[t._v(" List of workshops "),s("div",{staticClass:"float-end"},[s("button",{staticClass:"btn btn-sm btn-primary me-2",on:{click:t.previous}},[t._v("Previous")]),s("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.next}},[t._v("Next")])])]),s("hr"),s("div",{staticClass:"row"},t._l(t.workshops,(function(t){return s("div",{key:t.id,staticClass:"col-12 col-sm-6 col-lg-3 d-flex my-3"},[s("WorkshopCard",{attrs:{workshop:t}})],1)})),0)])])},A=[],D=function(){var t=this,s=t._self._c;return s("router-link",{staticClass:"text-reset text-decoration-none d-flex w-100",attrs:{to:`/workshops/${t.workshop.id}`}},[s("div",{staticClass:"card p-3 w-100"},[s("img",{staticClass:"card-img-top",attrs:{src:t.workshop.imageUrl,alt:t.workshop.name}}),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v(t._s(t.workshop.name))]),s("div",{staticClass:"card-text"},[s("div",[t._v(t._s(t._f("formatDate")(t.workshop.startDate,t.format))+" - "+t._s(t._f("formatDate")(t.workshop.endDate,t.format)))])])])])])},Z=[],P=e(6875);function O(t,s="standard"){switch(s){case"standard":return(0,P.Z)(new Date(t),"MMM d, yyyy");case"indian":return(0,P.Z)(new Date(t),"dd/MM/yyyy")}}const I={methods:{formatDate:O}};var S=I,q={name:"WorkshopCard",data(){return{format:"indian"}},props:{workshop:{type:Object,required:!0}},mixins:[S]},N=q,L=(0,u.Z)(N,D,Z,!1,null,"394b80cc",null),M=L.exports,R=e(6265),W=e.n(R);const E={baseUrl:"http://localhost:3000/api",toastDuration:5e3};var j=E;const{baseUrl:H}=j,T=async t=>{const s=await W().get(`${H}/workshops`,{params:{page:t}});return s.data.data},U=async t=>{const s=await W().get(`${H}/workshops/${t}`);return s.data.data};var G=function(){var t=this,s=t._self._c;return s("div",{staticClass:"alert",class:`alert-${t.theme}`,attrs:{role:"alert"}},[s("h4",{staticClass:"alert-heading"},[t._v(t._s(t.heading))]),t._t("default"),t._t("hint")],2)},Y=[],z=(e(6699),{props:{heading:{type:String,required:!0},theme:{type:String,validator(t){console.log("validate is running");const s=["primary","secondary","light","dark","info","success","warning","danger"];return s.includes(t)}}}}),B=z,F=(0,u.Z)(B,G,Y,!1,null,null,null),J=F.exports,K={name:"WorkshopsList",components:{WorkshopCard:M,AppAlert:J},data(){return{status:"LOADING",workshops:[],error:null,page:1}},methods:{async fetchWorkshops(){try{this.workshops=await T(this.page),this.status="LOADED"}catch(t){console.log(t.message),this.status="ERROR",this.error=t}},previous(){1!==this.page&&(this.page=this.page-1,this.fetchWorkshops())},next(){this.page=this.page+1,this.fetchWorkshops()}},created(){this.fetchWorkshops()}},Q=K,V=(0,u.Z)(Q,$,A,!1,null,"3343dc84",null),X=V.exports,tt=function(){var t=this,s=t._self._c;return s("div",["LOADING"===t.status?s("div",[s("AppSpinner",{attrs:{message:"Please wait while we fetch workshop details"}})],1):"ERROR"===t.status?s("div",[s("AppAlert",{attrs:{heading:"Oops! Some error occured",theme:"danger"},scopedSlots:t._u([{key:"hint",fn:function(){return[s("small",[t._v("Please try again later. Contact system administrator if you continue seeing this error.")])]},proxy:!0}])},[s("p",[t._v(t._s(t.error.message))])])],1):s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[t._v(t._s(t.workshop.name))]),s("hr")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-lg-4"},[s("img",{staticClass:"img-fluid",attrs:{src:t.workshop.imageUrl,alt:t.workshop.name}})]),s("div",{staticClass:"col-12 col-lg-8"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[s("p",[s("small",[t._v(" "+t._s(t._f("formatDate")(t.workshop.startDate))+" - "+t._s(t._f("formatDate")(t.workshop.endDate))+" ")])]),s("p",[s("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.workshop.time)+" ")])])]),s("div",{staticClass:"col-3"},[s("p",[s("i",{staticClass:"fa",class:""+(t.workshop.modes.online?"fa-check":"fa-times")}),t._v("   "),s("small",[t._v("Online")])]),s("p",[s("i",{staticClass:"fa",class:""+(t.workshop.modes.inPerson?"fa-check":"fa-times")}),t._v("   "),s("small",[t._v("In person")])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12",domProps:{innerHTML:t._s(t.workshop.description)}})])])])]),s("router-view")],1)},st=[],et={name:"WorkshopDetails",data(){return{status:"LOADING",workshop:null,error:null}},async created(){console.log("created - not yet appeared on the page"),this.status="LOADING";try{this.workshop=await U(this.$route.params.id),this.status="LOADED"}catch(t){this.status="ERROR",this.error=t}},mounted(){console.log("mounted - appeared on the page")}},at=et,rt=(0,u.Z)(at,tt,st,!1,null,null,null),ot=rt.exports,nt=function(){var t=this,s=t._self._c;return s("div",[s("h2",[t._v(" List of sessions "),s("router-link",{staticClass:"btn btn-sm btn-primary float-end",attrs:{to:`/workshops/${t.$route.params.id}/add`}},[t._v("Add a session")])],1),s("hr")])},it=[],lt={name:"SessionsList"},ct=lt,ut=(0,u.Z)(ct,nt,it,!1,null,null,null),pt=ut.exports,dt=function(){var t=this,s=t._self._c;return s("div",[s("h2",[t._v(" Add a session "),s("router-link",{staticClass:"btn btn-sm btn-primary float-end",attrs:{to:`/workshops/${t.$route.params.id}`}},[t._v("List of sessions")])],1),s("hr"),s("form",{on:{submit:function(s){return s.preventDefault(),t.addSession.apply(null,arguments)}}},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"sequenceId"}},[t._v("Sequence ID")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.form.sequenceId,expression:"form.sequenceId",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"sequenceId","aria-describedby":"sequenceIDHelp"},domProps:{value:t.form.sequenceId},on:{input:function(s){s.target.composing||t.$set(t.form,"sequenceId",t._n(s.target.value))},blur:function(s){return t.$forceUpdate()}}}),s("div",{staticClass:"form-text",attrs:{id:"sequenceIDHelp"}},[t._v(" Sequence ID is a number which denotes the order of the session in the workshop. For example, the first session in the workshop will have sequence ID 1. ")])]),s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(s){s.target.composing||t.$set(t.form,"name",s.target.value)}}})]),s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"speaker"}},[t._v("Speaker")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.speaker,expression:"form.speaker"}],staticClass:"form-control",attrs:{type:"text",id:"speaker"},domProps:{value:t.form.speaker},on:{blur:function(s){return t.$v.form.speaker.$touch()},input:function(s){s.target.composing||t.$set(t.form,"speaker",s.target.value)}}}),t.$v.form.speaker.$error?s("div",[t.$v.form.speaker.csv?t._e():s("div",[t._v(" You can only provide speaker names(s) separated by commas. ")])]):t._e()]),s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"duration"}},[t._v("Duration")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.form.duration,expression:"form.duration",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"text",id:"duration","aria-describedby":"durationHelp"},domProps:{value:t.form.duration},on:{blur:[function(s){return t.$v.form.duration.$touch()},function(s){return t.$forceUpdate()}],input:function(s){s.target.composing||t.$set(t.form,"duration",t._n(s.target.value))}}}),s("div",{staticClass:"form-text",attrs:{id:"durationHelp"}},[t._v(" Duration in hours. Eg. for a 2 hour 30 minutes session, type 2.5 ")]),t.$v.form.duration.$error?s("div",[t.$v.form.duration.required?t._e():s("div",[t._v(" This field is required. ")]),t.$v.form.duration.decimal?t._e():s("div",[t._v(" You can only have decimal number. Eg. 2.5, 3.75 etc. ")])]):t._e()]),s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"level"}},[t._v("Level")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.level,expression:"form.level"}],staticClass:"form-select",attrs:{id:"level"},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.form,"level",s.target.multiple?e:e[0])}}},[s("option",{attrs:{selected:"",value:""}},[t._v("-- Select the level --")]),s("option",{attrs:{value:"Basic"}},[t._v("Basic")]),s("option",{attrs:{value:"Intermediate"}},[t._v("Intermediate")]),s("option",{attrs:{value:"Advanced"}},[t._v("Advanced")])])]),s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"abstract"}},[t._v("Description")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.abstract,expression:"form.abstract"}],staticClass:"form-control",attrs:{id:"abstract"},domProps:{value:t.form.abstract},on:{input:function(s){s.target.composing||t.$set(t.form,"abstract",s.target.value)}}})]),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Add a session")])])])},vt=[],mt=e(5795);const{baseUrl:ft}=j,ht=async t=>{const s=await W().post(`${ft}/topics`,t);return s.data.data};var _t={name:"AddSession",data(){return{form:{sequenceId:"",name:"",speaker:"",level:"",duration:"",abstract:""}}},validations:{form:{sequenceId:{required:mt.C1},duration:{required:mt.C1,decimal:mt.gH},speaker:{csv(t){const s=/^[A-Za-z ]+(,[A-Za-z ]+)*$/;return s.test(t)}}}},methods:{async addSession(){const t={workshopId:+this.$route.params.id,upvoteCount:0,...this.form};if(this.$v.form.$invalid)a.ZP.$toast.open({message:"Please correct the errors and submit",type:"error",duration:j.duration});else try{const s=await ht(t);console.log(s),a.ZP.$toast.open({message:"Session was added",type:"success",duration:j.duration}),this.$router.push({name:"sessions-list"})}catch(s){a.ZP.$toast.open({message:s.message,type:"error",duration:j.duration})}}}},gt=_t,bt=(0,u.Z)(gt,dt,vt,!1,null,null,null),wt=bt.exports;const kt=new _.Z({mode:"history",routes:[{name:"home",path:"/",component:x},{name:"workshops-list",path:"/workshops",component:X},{name:"workshop-details",path:"/workshops/:id",component:ot,children:[{name:"sessions-list",path:"",component:pt},{name:"add-session",path:"add",component:wt}]}]});var yt=kt,Ct=function(){var t=this,s=t._self._c;return s("div",{staticClass:"d-flex justify-content-center"},[s("div",{staticClass:"spinner-border",attrs:{role:"status"}},[s("span",{staticClass:"visually-hidden"},[t._v(" "+t._s(t.message)+" ")])])])},xt=[],$t={props:{message:{type:String,default:"Processing"}}},At=$t,Dt=(0,u.Z)(At,Ct,xt,!1,null,null,null),Zt=Dt.exports;function Pt(t,s="standard"){switch(s){case"standard":return(0,P.Z)(new Date(t),"MMM d, yyyy");case"indian":return(0,P.Z)(new Date(t),"dd/MM/yyyy")}}var Ot=e(6215),It=e.n(Ot);a.ZP.config.productionTip=!1,a.ZP.use(_.Z),a.ZP.use(g.ZP),a.ZP.use(It()),a.ZP.filter("formatDate",Pt),a.ZP.component("AppSpinner",Zt),a.ZP.component("AppAlert",J),new a.ZP({render:t=>t(h),router:yt}).$mount("#app")}},s={};function e(a){var r=s[a];if(void 0!==r)return r.exports;var o=s[a]={exports:{}};return t[a].call(o.exports,o,o.exports,e),o.exports}e.m=t,function(){var t=[];e.O=function(s,a,r,o){if(!a){var n=1/0;for(u=0;u<t.length;u++){a=t[u][0],r=t[u][1],o=t[u][2];for(var i=!0,l=0;l<a.length;l++)(!1&o||n>=o)&&Object.keys(e.O).every((function(t){return e.O[t](a[l])}))?a.splice(l--,1):(i=!1,o<n&&(n=o));if(i){t.splice(u--,1);var c=r();void 0!==c&&(s=c)}}return s}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[a,r,o]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){var t={143:0};e.O.j=function(s){return 0===t[s]};var s=function(s,a){var r,o,n=a[0],i=a[1],l=a[2],c=0;if(n.some((function(s){return 0!==t[s]}))){for(r in i)e.o(i,r)&&(e.m[r]=i[r]);if(l)var u=l(e)}for(s&&s(a);c<n.length;c++)o=n[c],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(u)},a=self["webpackChunkworkshops_app_vue"]=self["webpackChunkworkshops_app_vue"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=e.O(void 0,[998],(function(){return e(2838)}));a=e.O(a)})();
//# sourceMappingURL=app.3cb24036.js.map